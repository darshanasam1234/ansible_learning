---
- name: Create User
  hosts: ansibleclients
  become: yes  # Run tasks with sudo or become the root user

  vars:
    username: john2
    password: 'Nksdfh$1234'
    # You can generate the hashed password using the `mkpasswd` command or use a password file.

  tasks:
    - name: Ensure user exists
      user:
        name: "{{ username }}"
        password: "{{ password | default(omit) }}"
        state: present

